{"version":3,"sources":["webpack:///./src/views/client/Works.vue?3a0f","webpack:///src/views/client/Works.vue","webpack:///./src/views/client/Works.vue?d087","webpack:///./src/views/client/Works.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","active","isLoading","on","update:active","$event","staticClass","_l","num","key","class","navItem","href","click","preventDefault","_v","_s","CategoryName","item","to","name","params","productId","id","title","description","_f","price","type","addtoCart","src","alt","staticRenderFns","Worksvue_type_script_lang_js_","data","baseUrl","All","CarryBag","CoinPurse","LongWallets","WatchBand","productsData","countCategory","pagination","methods","getProducts","page","arguments","length","undefined","api","concat","vm","$http","get","then","res","success","products","reduce","prev","category","_this","qty","cart","product_id","post","console","log","$bus","$emit","message","computed","productsDataFillter","filter","created","client_Worksvue_type_script_lang_js_","component","Object","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"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","file":"js/chunk-2d21e5d5.8500ee59.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_c('div',{staticClass:\"container\"},[_c('ul',{staticClass:\"nav justify-content-center flex-row-reverse my-3\"},_vm._l((_vm.countCategory),function(num,key){return _c('li',{key:key,staticClass:\"nav-item item-filter mx-3\"},[_c('a',{staticClass:\"nav-link\",class:{ 'active' : _vm.navItem == key },attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();_vm.navItem = key}}},[_vm._v(_vm._s(_vm.CategoryName[key])),_c('span',[_vm._v(_vm._s(num))])])])}),0),_c('div',{staticClass:\"portfolio-item-warp\"},[_c('div',{staticClass:\"row mb-4\"},_vm._l((_vm.productsDataFillter),function(item,key){return _c('div',{key:key,staticClass:\"col-12 col-md-6 mb-4\"},[_c('div',{staticClass:\"portfolio-hover\"},[_c('div',{staticClass:\"portfolio-hover-content content-between\"},[_c('div',[_c('div',{staticClass:\"portfolio-name\"},[_c('router-link',{staticClass:\"display-3\",attrs:{\"to\":{ name: 'WorksDetail', params: { productId: item.id }}}},[_vm._v(_vm._s(item.title)+\"\\n                                    \")])],1),_c('div',{staticClass:\"portfolio-subname\"},[_c('span',[_vm._v(_vm._s(item.description))])]),_c('div',{staticClass:\"portfolio-price\"},[_c('span',{staticClass:\"light\"},[_vm._v(_vm._s(_vm._f(\"currency\")(item.price)))])])]),_c('button',{staticClass:\"btn portfolio-add-to-cart\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.addtoCart(item.id)}}})]),_c('img',{staticClass:\"img-fluid\",attrs:{\"src\":(\"\" + (item.imageUrl)),\"alt\":\"\"}})])])}),0)])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <loading :active.sync=\"isLoading\"></loading>\n        <div class=\"container\">\n            <!-- nav -->\n            <ul class=\"nav justify-content-center flex-row-reverse my-3\">\n                <li class=\"nav-item item-filter mx-3\" v-for=\"(num, key) in countCategory\" :key=\"key\">\n                    <a class=\"nav-link\" href=\"#\" :class=\"{ 'active' : navItem == key }\" @click.prevent=\"navItem = key\">{{ CategoryName[key] }}<span>{{ num }}</span></a>\n                </li>\n            </ul>\n\n            <!-- work list -->\n            <div class=\"portfolio-item-warp\">\n                <div class=\"row mb-4\">\n                    <div class=\"col-12 col-md-6 mb-4\" v-for=\"(item, key) in productsDataFillter\" :key=\"key\">\n                        <div class=\"portfolio-hover\">\n                            <div class=\"portfolio-hover-content content-between\">\n                                <div>\n                                    <div class=\"portfolio-name\">\n                                        <router-link :to=\"{ name: 'WorksDetail', params: { productId: item.id }}\"\n                                            class=\"display-3\">{{ item.title }}\n                                        </router-link>\n                                    </div>\n                                    <div class=\"portfolio-subname\">\n                                        <span>{{ item.description }}</span>\n                                    </div>\n                                    <div class=\"portfolio-price\">\n                                        <span class=\"light\">{{ item.price | currency }}</span>\n                                    </div>\n                                </div>\n                                <button type=\"button\" class=\"btn portfolio-add-to-cart\" @click=\"addtoCart(item.id)\"></button>\n                            </div>\n                            <img :src=\"`${ item.imageUrl }`\" class=\"img-fluid\" alt=\"\">\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    /* eslint-disable */\n\n    export default {\n        name: \"works\",\n        data() {\n            return {\n                baseUrl: process.env.VUE_APP_IMGURL,\n                isLoading: false,\n                navItem: 'All',\n                CategoryName: {\n                    All: '全部',\n                    CarryBag: '隨身包',\n                    CoinPurse: '零錢包',\n                    LongWallets: '長夾',\n                    WatchBand: '錶帶',\n                },\n\n                // 產品\n                productsData: [],\n                countCategory: [],\n                pagination: {},\n            }\n        },\n        methods: {\n            getProducts(page = 1) {\n                const api =\n                    `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/products?page=${page}`;\n                const vm = this;\n                vm.isLoading = true;\n                this.$http.get(api).then((res) => {\n\n                    if (res.data.success) {\n                        vm.isLoading = false;\n\n                        vm.productsData = res.data.products;\n                        vm.pagination = res.data.pagination;\n                        \n                        var cate_count= [];\n\n                        vm.countCategory = vm.productsData.reduce(function (prev, item) {\n                            prev[item.category] = prev[item.category] || [];\n\n                            if(prev[item.category] == []){\n                                prev[item.category] = 0;\n                            }\n                            prev[item.category] ++;\n                            return prev;\n                        }, {});\n                        vm.countCategory['All'] = vm.productsData.length;\n                        // vm.countCategory.push({\n                        //     'All': vm.productsData.length\n                        // });\n                    }\n                })\n            },\n\n            addtoCart(id, qty = 1) {\n                const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/cart`;\n                const vm = this;\n                const cart = {\n                    'product_id': id,\n                    qty\n                };\n                // vm.status.loadingItem = id;\n                this.$http.post(api, {\n                    data: cart\n                }).then((res) => {\n                    if (res.data.success) {\n                        console.log('成功加入購物車');\n                        this.$bus.$emit('messsage:push', res.data.message, 'dark');\n                    }\n                })\n            },\n        },\n        computed: {\n            productsDataFillter() {\n                const vm = this;\n                if (vm.navItem == 'All') {\n                    return vm.productsData;\n                } else if (vm.navItem == 'LongWallets') {\n                    return vm.productsData.filter(item => item.category == vm.navItem);\n                } else if (vm.navItem == 'CoinPurse') {\n                    return vm.productsData.filter(item => item.category == vm.navItem);\n                } else if (vm.navItem == 'CarryBag') {\n                    return vm.productsData.filter(item => item.category == vm.navItem);\n                } else if (vm.navItem == 'WatchBand') {\n                    return vm.productsData.filter(item => item.category == vm.navItem);\n                }\n                return [];\n            }\n        },\n        created() {\n            this.getProducts();\n            // this.getCart();\n        }\n    };\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Works.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Works.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Works.vue?vue&type=template&id=074e1a17&\"\nimport script from \"./Works.vue?vue&type=script&lang=js&\"\nexport * from \"./Works.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Works.vue\"\nexport default component.exports"],"sourceRoot":""}