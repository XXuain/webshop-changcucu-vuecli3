(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21e5d5"],{d4f5:function(t,a,o){"use strict";o.r(a);var e=function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",[o("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),o("div",{staticClass:"container"},[o("ul",{staticClass:"nav justify-content-center flex-row-reverse my-3"},t._l(t.countCategory,function(a,e){return o("li",{key:e,staticClass:"nav-item item-filter mx-3"},[o("a",{staticClass:"nav-link",class:{active:t.navItem==e},attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.navItem=e}}},[t._v(t._s(t.CategoryName[e])),o("span",[t._v(t._s(a))])])])}),0),o("div",{staticClass:"portfolio-item-warp"},[o("div",{staticClass:"row mb-4"},t._l(t.productsDataFillter,function(a,e){return o("div",{key:e,staticClass:"col-12 col-md-6 mb-4"},[o("div",{staticClass:"portfolio-hover"},[o("div",{staticClass:"portfolio-hover-content content-between"},[o("div",[o("div",{staticClass:"portfolio-name"},[o("router-link",{staticClass:"display-3",attrs:{to:{name:"WorksDetail",params:{productId:a.id}}}},[t._v(t._s(a.title)+"\n                                    ")])],1),o("div",{staticClass:"portfolio-subname"},[o("span",[t._v(t._s(a.description))])]),o("div",{staticClass:"portfolio-price"},[o("span",{staticClass:"light"},[t._v(t._s(t._f("currency")(a.price)))])])]),o("button",{staticClass:"btn portfolio-add-to-cart",attrs:{type:"button"},on:{click:function(o){t.addtoCart(a.id)}}})]),o("img",{staticClass:"img-fluid",attrs:{src:""+a.imageUrl,alt:""}})])])}),0)])])],1)},s=[],n={name:"works",data:function(){return{baseUrl:"/webshop-changcucu-vuecli3/dist",isLoading:!1,navItem:"All",CategoryName:{All:"全部",CarryBag:"隨身包",CoinPurse:"零錢包",LongWallets:"長夾",WatchBand:"錶帶"},productsData:[],countCategory:[],pagination:{}}},methods:{getProducts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("yellow","/products?page=").concat(t),o=this;o.isLoading=!0,this.$http.get(a).then(function(t){if(t.data.success){o.isLoading=!1,o.productsData=t.data.products,o.pagination=t.data.pagination;o.countCategory=o.productsData.reduce(function(t,a){return t[a.category]=t[a.category]||[],t[a.category]==[]&&(t[a.category]=0),t[a.category]++,t},{}),o.countCategory["All"]=o.productsData.length}})},addtoCart:function(t){var a=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("yellow","/cart"),s={product_id:t,qty:o};this.$http.post(e,{data:s}).then(function(t){t.data.success&&(console.log("成功加入購物車"),a.$bus.$emit("messsage:push",t.data.message,"dark"))})}},computed:{productsDataFillter:function(){var t=this;return"All"==t.navItem?t.productsData:"LongWallets"==t.navItem?t.productsData.filter(function(a){return a.category==t.navItem}):"CoinPurse"==t.navItem?t.productsData.filter(function(a){return a.category==t.navItem}):"CarryBag"==t.navItem?t.productsData.filter(function(a){return a.category==t.navItem}):"WatchBand"==t.navItem?t.productsData.filter(function(a){return a.category==t.navItem}):[]}},created:function(){this.getProducts()}},i=n,c=o("2877"),r=Object(c["a"])(i,e,s,!1,null,null,null);r.options.__file="Works.vue";a["default"]=r.exports}}]);
//# sourceMappingURL=chunk-2d21e5d5.8500ee59.js.map